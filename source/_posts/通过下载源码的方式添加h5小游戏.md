---
title: 通过下载源码的方式添加h5小游戏
date: 2019-05-16 17:10:43
comments: true
toc: true
categories:
	- 环境搭建
---
   *  这里使用的是两种方式：Centos7+Tomcat、Centos7+Nginx。
   
   <!--more-->
   
## Centos7+Tomcat
   Tomcat是用java写的，运行Tomcat的话需要java运行环境，也就是JRE，直接安装JDK即可。安装方式可以看这里：[Centos7安装JDK](/2019/04/12/centos7%E5%AE%89%E8%A3%85jdk/) 

### 安装tomcat

   这里安装的是7.0,[tomcat7](https://tomcat.apache.org/download-70.cgi) 

![](/uploads/201905/tomcat7.png)
   放置服务器后解压即可

### 启动tomcat

查看开放的端口
```
netstat -ntlp
```
tomcat默认8080端口,若未开放，要先开放
```
firewall-cmd --zone=public --add-port=8080/tcp --permanent
```
然后进入bin目录，执行
```
./startup.sh
```

通过公网ip+8080访问,出现以下界面说明成功
![](/uploads/201905/tomcatmoren.png)

### 下载h5小游戏源码

这里是从github上搜了一些
![](/uploads/201905/githubgames.jpg)

### 部署小游戏

将源码文件夹放置tomcat中的webapps目录下，之后通过 公网ip+8080+源码文件夹 名即可访问(默认读取该文件中的index.html文件)

### 修改默认访问目录
即修改 公网ip+8080访问的默认目录
进入到tomcat中的conf目录下，编辑server.xml文件，找到 </Host>标签，在上面一行加入

```
<Context path="" docBase="/usr/local/tomcat-7.8080/webapps/2048" debug="0" reloadable="true"/>
```
其中 __docBase__ 的值自定义

## Centos7+Nginx
### 安装Nginx
这个网上已经有很多不少教程了，可以参考这个来安装：[https://www.runoob.com/linux/nginx-install-setup.html](https://www.runoob.com/linux/nginx-install-setup.html) 
### 修改默认访问目录
找到文件 /usr/local/webserver/nginx/conf/nginx.conf
找到server中的root字段，其对应的路径为，网站根目录访问路径
### 部署小游戏
假设指向路径为/home/games
将游戏文件夹放置到games目录下
公网ip+游戏文件名即可访问

---